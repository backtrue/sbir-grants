# SBIR Data MCP Server

æ··åˆå¼å¸‚å ´æ•¸æ“šæŸ¥è©¢æœå‹™ï¼Œæ•´åˆå°ç£å®˜æ–¹èˆ‡æ³•äººæ©Ÿæ§‹æ•¸æ“šä¾†æºã€‚

## ğŸ¯ è¨­è¨ˆç†å¿µï¼šæ··åˆå¼æ¶æ§‹

æœ¬ MCP Server æ¡ç”¨**æ··åˆå¼è¨­è¨ˆ**ï¼Œçµåˆ MCP Server èˆ‡ Claude å…§å»ºå·¥å…·çš„å„ªå‹¢ï¼š

| æ•¸æ“šä¾†æº | æŸ¥è©¢æ–¹å¼ | åŸå›  |
|---------|---------|------|
| ğŸ“Š ç¶“æ¿Ÿéƒ¨çµ±è¨ˆè™• | **MCP Server** | æœ‰å®˜æ–¹ APIï¼Œé©åˆçµæ§‹åŒ–æŸ¥è©¢ |
| ğŸ”¬ å·¥ç ”é™¢ IEK | **Claude `search_web`** | ç„¡å…¬é–‹ APIï¼Œéœ€ç¶²é æœå°‹ |
| ğŸ’» è³‡ç­–æœƒ MIC | **Claude `search_web`** | ç„¡å…¬é–‹ APIï¼Œéœ€ç¶²é æœå°‹ |

### ç‚ºä»€éº¼æ˜¯æ··åˆå¼ï¼Ÿ

**MCP Server çš„é™åˆ¶**ï¼š
- âŒ ç„¡æ³•ç›´æ¥å‘¼å« Claude çš„ `search_web` å·¥å…·
- âŒ å¯¦ä½œ web scraping è¤‡é›œä¸”ç¶­è­·æˆæœ¬é«˜
- âŒ Google Custom Search API éœ€è¦é¡å¤–è²»ç”¨

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
- âœ… MCP Server å°ˆæ³¨æ–¼**æœ‰ API çš„æ•¸æ“šæº**ï¼ˆç¶“æ¿Ÿéƒ¨çµ±è¨ˆè™•ï¼‰
- âœ… Claude ä½¿ç”¨å…§å»º `search_web` è™•ç†**éœ€è¦æœå°‹çš„æ•¸æ“šæº**ï¼ˆIEKã€MICï¼‰
- âœ… `references/claude_automation_guide.md` æŒ‡å° Claude å¦‚ä½•å”èª¿å…©è€…

---

## ğŸ› ï¸ åŠŸèƒ½

### å¯ç”¨å·¥å…·

#### 1. `query_moea_statistics`

æŸ¥è©¢ç¶“æ¿Ÿéƒ¨çµ±è¨ˆè™•ç¸½é«”çµ±è¨ˆè³‡æ–™åº«ã€‚

**åƒæ•¸**ï¼š
- `industry`: ç”¢æ¥­åˆ¥ï¼ˆæ©Ÿæ¢°ã€åŒ–å·¥ã€é›»å­ã€è³‡é€šè¨Šã€ç”ŸæŠ€ã€æœå‹™æ¥­ï¼‰
- `stat_type`: çµ±è¨ˆé¡å‹ï¼ˆç”¢å€¼ã€å‡ºå£ã€å°±æ¥­äººæ•¸ï¼‰
- `start_year`: èµ·å§‹å¹´ä»½ï¼ˆé è¨­ 2020ï¼‰
- `end_year`: çµæŸå¹´ä»½ï¼ˆé è¨­ 2024ï¼‰

**ç¯„ä¾‹**ï¼š
```python
query_moea_statistics(
    industry="æ©Ÿæ¢°",
    stat_type="ç”¢å€¼",
    start_year=2020,
    end_year=2024
)
```

**ç›®å‰ç‹€æ…‹**ï¼š
- âš ï¸ å›å‚³èªªæ˜è¨Šæ¯èˆ‡å»ºè­°
- âš ï¸ å¯¦éš› API æŸ¥è©¢éœ€è¦ã€ŒåŠŸèƒ½ä»£ç¢¼ã€ï¼ˆè¼ƒè¤‡é›œï¼‰
- âœ… å»ºè­°ä½¿ç”¨ Claude `search_web` ä½œç‚ºæ›¿ä»£æ–¹æ¡ˆ

#### 2. `search_moea_website`

æä¾›ç¶“æ¿Ÿéƒ¨ç¶²ç«™æœå°‹å»ºè­°ã€‚

**åƒæ•¸**ï¼š
- `keyword`: æœå°‹é—œéµå­—

**åŠŸèƒ½**ï¼š
- æä¾›æœå°‹å»ºè­°
- æ¨è–¦ä½¿ç”¨ Claude `search_web` çš„æŸ¥è©¢èªæ³•
- åˆ—å‡ºæ¨è–¦æŸ¥è©¢ç¶²ç«™

---

## ğŸ“‹ å®Œæ•´æŸ¥è©¢æµç¨‹

æ ¹æ“š `references/claude_automation_guide.md`ï¼ŒClaude æœƒè‡ªå‹•åŸ·è¡Œä»¥ä¸‹æµç¨‹ï¼š

```mermaid
graph TD
    A[ç”¨æˆ¶è«‹æ±‚å¸‚å ´æ•¸æ“š] --> B[Claude åˆ†æéœ€æ±‚]
    B --> C[å‘¼å« MCP: query_moea_statistics]
    B --> D[ä½¿ç”¨ search_web: å·¥ç ”é™¢ IEK]
    B --> E[ä½¿ç”¨ search_web: è³‡ç­–æœƒ MIC]
    C --> F[æ•´åˆæ‰€æœ‰æ•¸æ“š]
    D --> F
    E --> F
    F --> G[æ ¼å¼åŒ–è¼¸å‡º]
```

**ç¯„ä¾‹å°è©±**ï¼š

```
ç”¨æˆ¶ï¼šã€Œæˆ‘è¦å¯«æ©Ÿæ¢°ç”¢æ¥­çš„å•é¡Œé™³è¿°ï¼Œè«‹å¹«æˆ‘æ‰¾å¸‚å ´æ•¸æ“šã€

Claude è‡ªå‹•åŸ·è¡Œï¼š
1. å‘¼å« MCP Server: query_moea_statistics(industry="æ©Ÿæ¢°", stat_type="ç”¢å€¼")
2. ä½¿ç”¨ search_web: "æ©Ÿæ¢°ç”¢æ¥­ å¸‚å ´è¦æ¨¡ site:iek.itri.org.tw"
3. æ•´åˆçµæœä¸¦æ ¼å¼åŒ–

Claude å›æ‡‰ï¼š
ã€Œæ ¹æ“šç¶“æ¿Ÿéƒ¨çµ±è¨ˆè™•ï¼Œ2024 å¹´å°ç£æ©Ÿæ¢°ç”¢æ¥­ç”¢å€¼ç´„ 1,200 å„„å…ƒ...
æ ¹æ“šå·¥ç ”é™¢ IEK å ±å‘Šï¼Œæ©Ÿæ¢°ç”¢æ¥­å¹´è¤‡åˆæˆé•·ç‡é ä¼°ç‚º 5.2%...ã€
```

---

## ğŸš€ å®‰è£

### 1. å®‰è£ä¾è³´

```bash
cd /Users/backtrue/Documents/claude-sbir-skills/sbir-grants/mcp-server

# ä½¿ç”¨ uvï¼ˆæ¨è–¦ï¼‰
uv pip install -e .

# æˆ–ä½¿ç”¨ pip
pip install -e .
```

### 2. è¨­å®š Claude Desktop

ç·¨è¼¯è¨­å®šæª”ï¼š

**macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "sbir-data": {
      "command": "uv",
      "args": [
        "--directory",
        "/Users/backtrue/Documents/claude-sbir-skills/sbir-grants/mcp-server",
        "run",
        "server.py"
      ]
    }
  }
}
```

### 3. é‡å•Ÿ Claude Desktop

è¨­å®šå®Œæˆå¾Œï¼Œé‡å•Ÿ Claude Desktop å³å¯ä½¿ç”¨ã€‚

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### è‡ªå‹•è§¸ç™¼ï¼ˆæ¨è–¦ï¼‰

Claude æœƒæ ¹æ“š `references/claude_automation_guide.md` è‡ªå‹•åˆ¤æ–·ä½•æ™‚ä½¿ç”¨ MCP Serverã€‚

**è§¸ç™¼æƒ…å¢ƒ**ï¼š
- ç”¨æˆ¶æåˆ°ã€Œå¸‚å ´æ•¸æ“šã€ã€ã€Œç”¢æ¥­çµ±è¨ˆã€
- æ’°å¯«å•é¡Œé™³è¿°ã€å¸‚å ´åˆ†æç« ç¯€
- éœ€è¦ç”¢å€¼ã€å‡ºå£ã€å°±æ¥­ç­‰æ•¸æ“š

### æ‰‹å‹•å‘¼å«

ä¹Ÿå¯ä»¥æ˜ç¢ºè¦æ±‚ï¼š

```
ã€Œè«‹ä½¿ç”¨ MCP Server æŸ¥è©¢æ©Ÿæ¢°ç”¢æ¥­çš„ç”¢å€¼æ•¸æ“šã€
```

---

## ğŸ”§ é–‹ç™¼æŒ‡å¼•

### æ¸¬è©¦ Server

```bash
# ç›´æ¥åŸ·è¡Œ
python server.py

# ä½¿ç”¨ MCP Inspectorï¼ˆæ¨è–¦ï¼‰
npx @modelcontextprotocol/inspector uv --directory . run server.py
```

### æ“´å……åŠŸèƒ½

å¦‚éœ€æ–°å¢æ•¸æ“šä¾†æºï¼š

1. **æœ‰ API çš„æ•¸æ“šæº** â†’ åœ¨ `server.py` æ–°å¢å·¥å…·
2. **éœ€æœå°‹çš„æ•¸æ“šæº** â†’ æ›´æ–° `references/claude_automation_guide.md`

---

## âœ… ç›®å‰ç‹€æ…‹

### å·²å®Œæˆ

- âœ… MCP Server åŸºæœ¬æ¶æ§‹
- âœ… å·¥å…·å®šç¾©ï¼ˆquery_moea_statistics, search_moea_websiteï¼‰
- âœ… éŒ¯èª¤è™•ç†èˆ‡æŒ‡å¼•è¨Šæ¯
- âœ… Claude è‡ªå‹•åŒ–æŒ‡å¼•æ–‡ä»¶

### å¾…å„ªåŒ–ï¼ˆå¯é¸ï¼‰

- [ ] å¯¦ä½œç¶“æ¿Ÿéƒ¨ API åŠŸèƒ½ä»£ç¢¼æŸ¥è©¢
- [ ] å¿«å–æ©Ÿåˆ¶ï¼ˆé¿å…é‡è¤‡æŸ¥è©¢ï¼‰
- [ ] æ›´å¤šç”¢æ¥­æ•¸æ“šæº

**æ³¨æ„**ï¼šç”±æ–¼ç¶“æ¿Ÿéƒ¨ API éœ€è¦ã€ŒåŠŸèƒ½ä»£ç¢¼ã€ä¸”æŸ¥è©¢è¤‡é›œï¼Œç›®å‰å»ºè­°ç›´æ¥ä½¿ç”¨ Claude çš„ `search_web` ä½œç‚ºä¸»è¦æ–¹æ¡ˆã€‚MCP Server æä¾›æ¶æ§‹èˆ‡æŒ‡å¼•ã€‚

---

## ğŸ“š ç›¸é—œæ–‡ä»¶

- `references/claude_automation_guide.md` - Claude è‡ªå‹•åŒ–æŒ‡å¼•ï¼ˆ**é‡è¦**ï¼‰
- `examples/market_analysis_data.md` - å¸‚å ´æ•¸æ“šä¾†æºæŒ‡å¼•
- `data/industry_statistics_*.json` - æœ¬åœ°æ•¸æ“šè³‡æ–™åº«

---

## ğŸ¤ è²¢ç»

æ­¡è¿è²¢ç»ï¼ç‰¹åˆ¥æ˜¯ï¼š
- æ–°å¢ç”¢æ¥­æ•¸æ“šä¾†æº
- æ”¹é€²æ•¸æ“šæ ¼å¼åŒ–
- å„ªåŒ–æŸ¥è©¢é‚è¼¯

---

## ğŸ“„ æˆæ¬Š

MIT License


æ··åˆå¼å¸‚å ´æ•¸æ“šæŸ¥è©¢æœå‹™ï¼Œæ•´åˆå°ç£å®˜æ–¹èˆ‡æ³•äººæ©Ÿæ§‹æ•¸æ“šä¾†æºã€‚

## åŠŸèƒ½

### æ•¸æ“šä¾†æº

| ä¾†æº | é¡å‹ | èªªæ˜ |
|------|------|------|
| ç¶“æ¿Ÿéƒ¨çµ±è¨ˆè™• | Web Search | å®˜æ–¹ç”¢æ¥­çµ±è¨ˆæ•¸æ“š |
| å·¥ç ”é™¢ IEK | Web Search | ç”¢æ¥­è¶¨å‹¢å ±å‘Š |
| è³‡ç­–æœƒ MIC | Web Search | è³‡é€šè¨Šç”¢æ¥­æ•¸æ“š |

### å¯ç”¨å·¥å…·

1. **get_industry_market_data**
   - æŸ¥è©¢ç‰¹å®šç”¢æ¥­çš„å¸‚å ´æ•¸æ“š
   - è‡ªå‹•æ•´åˆå¤šå€‹ä¾†æº
   - åƒæ•¸ï¼šç”¢æ¥­åˆ¥ã€é—œéµå­—ã€å¹´ä»½

2. **search_moea_statistics**
   - ç›´æ¥æŸ¥è©¢ç¶“æ¿Ÿéƒ¨çµ±è¨ˆè™•
   - åƒæ•¸ï¼šæŸ¥è©¢é—œéµå­—

## å®‰è£

```bash
cd /Users/backtrue/Documents/claude-sbir-skills/sbir-grants/mcp-server

# ä½¿ç”¨ uv å®‰è£ï¼ˆæ¨è–¦ï¼‰
uv pip install -e .

# æˆ–ä½¿ç”¨ pip
pip install -e .
```

## è¨­å®š Claude Desktop

ç·¨è¼¯ Claude Desktop è¨­å®šæª”ï¼š

**macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "sbir-data": {
      "command": "uv",
      "args": [
        "--directory",
        "/Users/backtrue/Documents/claude-sbir-skills/sbir-grants/mcp-server",
        "run",
        "server.py"
      ]
    }
  }
}
```

## ä½¿ç”¨ç¯„ä¾‹

è¨­å®šå®Œæˆå¾Œï¼Œåœ¨ Claude ä¸­ï¼š

```
ç”¨æˆ¶ï¼šã€Œæˆ‘è¦å¯«æ©Ÿæ¢°ç”¢æ¥­çš„å•é¡Œé™³è¿°ï¼Œè«‹å¹«æˆ‘æ‰¾å¸‚å ´æ•¸æ“šã€

Claude è‡ªå‹•åŸ·è¡Œï¼š
1. å‘¼å« get_industry_market_data(industry="æ©Ÿæ¢°", keyword="å¸‚å ´è¦æ¨¡")
2. æ•´åˆç¶“æ¿Ÿéƒ¨çµ±è¨ˆè™•ã€å·¥ç ”é™¢ IEK æ•¸æ“š
3. æ ¼å¼åŒ–ç‚ºå¯å¼•ç”¨çš„æ®µè½

Claude å›æ‡‰ï¼š
ã€Œæ ¹æ“šå·¥ç ”é™¢ IEK (2024) å ±å‘Šï¼Œå°ç£æ©Ÿæ¢°ç”¢æ¥­å¸‚å ´è¦æ¨¡é” XX å„„å…ƒ...
æ ¹æ“šç¶“æ¿Ÿéƒ¨çµ±è¨ˆè™•ï¼Œ2024 å¹´æ©Ÿæ¢°ç”¢æ¥­ç”¢å€¼...ã€
```

## ç›®å‰ç‹€æ…‹

âš ï¸ **æ³¨æ„**ï¼šç›®å‰ç‰ˆæœ¬ç‚ºæ¶æ§‹é››å½¢ï¼ŒWeb Search åŠŸèƒ½éœ€è¦é€²ä¸€æ­¥å¯¦ä½œã€‚

### å¾…å®Œæˆé …ç›®

- [ ] æ•´åˆ Google Custom Search API
- [ ] å¯¦ä½œ Web Scrapingï¼ˆéµå®ˆ robots.txtï¼‰
- [ ] æˆ–æ•´åˆ Claude çš„ search_web å·¥å…·
- [ ] å¿«å–æ©Ÿåˆ¶ï¼ˆé¿å…é‡è¤‡æŸ¥è©¢ï¼‰
- [ ] éŒ¯èª¤è™•ç†èˆ‡é‡è©¦é‚è¼¯

### å¯¦ä½œé¸é …

**é¸é … Aï¼šä½¿ç”¨ Google Custom Search API**
```python
# éœ€è¦ Google API Key
GOOGLE_API_KEY = "your-api-key"
SEARCH_ENGINE_ID = "your-search-engine-id"

async def web_search(query: str):
    url = f"https://www.googleapis.com/customsearch/v1"
    params = {
        "key": GOOGLE_API_KEY,
        "cx": SEARCH_ENGINE_ID,
        "q": query
    }
    # ...
```

**é¸é … Bï¼šä½¿ç”¨ Claude çš„ search_web**
```python
# é€é MCP å‘¼å« Claude çš„ search_web å·¥å…·
# éœ€è¦ç ”ç©¶ MCP çš„ tool-to-tool å‘¼å«æ©Ÿåˆ¶
```

**é¸é … Cï¼šWeb Scraping**
```python
from playwright.async_api import async_playwright

async def scrape_iek(industry: str, keyword: str):
    async with async_playwright() as p:
        browser = await p.chromium.launch()
        # ...
```

## é–‹ç™¼æŒ‡å¼•

### æ¸¬è©¦ Server

```bash
# ç›´æ¥åŸ·è¡Œæ¸¬è©¦
python server.py

# æˆ–ä½¿ç”¨ MCP Inspector
npx @modelcontextprotocol/inspector uv --directory . run server.py
```

### æ–°å¢æ•¸æ“šä¾†æº

1. åœ¨ `server.py` æ–°å¢æŸ¥è©¢å‡½æ•¸
2. åœ¨ `get_industry_market_data` ä¸­æ•´åˆ
3. æ›´æ–° `format_market_data` æ ¼å¼åŒ–é‚è¼¯

## æˆæ¬Š

MIT License
